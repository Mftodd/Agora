{% extends 'base.html' %}
{% load static %}


{% block page_scripts %}
    <script defer src="{% static 'market.js' %}"></script>
{% endblock %}


{% block title %}
Market
{% endblock %}

{% block content %}
    <div class="w-[1100px] mx-auto">


        <div class="my-2 gap-8">
            <a href="">slide 1</a>
            <a href="">slide 2</a>
            <a href="">slide 3</a>
            <a href="">slide 4</a>
        </div>
        
        <!-- slideshow container -->
        <ul id="slideshow" class="list-none relative w-full h-[450px] group">

            <!-- generate slides -->
            {% for slide in slides %}
                <li style="display:none" class="absolute w-full h-full overflow-hidden rounded-xl">
                    <img src="{{ slide.image.url }}" alt="" class="w-full h-full group-hover:scale-105 transition ease-in-out">
                    <div class="absolute z-10 bottom-16 left-24 text-md text-white">
                        <p class="text-4xl font-bold py-2 shadow-inherit">{{ slide.title }}</p>
                        <p class="text-xl font-semibold pb-4">{{ slide.sub_title }}</p>
                        <button id="explore-btn" 
                            class="rounded-lg px-8 py-2 backdrop-blur-sm bg-slate-50/10 text-lg font-bold text-slate-50 z-10 shadow-sm hover:bg-slate-50 hover:text-slate-900" href="">
                            Explore</button>
                    </div>
                    <!-- <p>{{ slide.id }}</p>
                    <p>{{ slides.count }}</p> -->
                </li>
            {% endfor %}

            <!-- forward backward buttons  -->
            <div class="hidden group-hover:flex">
                <div class="pointer absolute flex items-center justify-between w-full h-full text-white font-bold text-lg rounded-lg">
                    <button class="h-12 w-12 -mx-6 bg-slate-50 shadow-md text-slate-900 text-2xl rounded-full" id="prev" onclick="changeSlide(-1)">&#10094;</button>  
                    <button class="h-12 w-12 -mx-6 bg-slate-50 shadow-md text-slate-900 text-2xl rounded-full" id="next" onclick="changeSlide(1)">&#10095;</button>  
                </div>
            </div>

        </ul>
        
        <!-- listings -->
        <p class="text-3xl font-bold my-6">FEATURED LISTINGS</p>
        <div class="flex w-full justify-center items-center 2xl:px-20">

            <div class="flex flex-wrap justify-center items-center">
                
                {% for listing in listings %}
                <!-- listing card -->
                <a class="bg-slate-600 mx-2 flex flex-1 min-w-[200px] max-w-[250px] flex-col p-3 rounded-md hover:shadow-2xl" href="{% url 'asset' listing.id %}">
                    <p class="text-xs text-slate-200">{{ listing.user.username }}</p>
                    <p class="text-xl text-slate-200">{{ listing.title }}</p>
                    <p class="text-2xl text-slate-200 flex items-center"><img src="../../../uploads/market/eth-glyph-colored.png" class="h-6 mx-1">{{ listing.price }}</p>          
                    <img src="{{listing.image.url}}" alt="" class="h-48 rounded-md shadow-lg object-cover">
                </a>
                {% endfor %}
            
            </div>
        </div>

    </div>


{% endblock %}